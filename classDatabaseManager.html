<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zoo Management System: DatabaseManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Zoo Management System<span id="projectnumber">&#160;1.1</span>
   </div>
   <div id="projectbrief">Object-Oriented Zoo Management System implemented in C++ (by Denys Freyuk)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classDatabaseManager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classDatabaseManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DatabaseManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Handles low-level database operations for the Zoo Management System.  
 <a href="classDatabaseManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DatabaseManager_8h_source.html">DatabaseManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DatabaseManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classDatabaseManager.png" usemap="#DatabaseManager_map" alt=""/>
  <map id="DatabaseManager_map" name="DatabaseManager_map">
<area href="classFailingMockDatabase.html" title="Mock class simulating database failure scenarios." alt="FailingMockDatabase" shape="rect" coords="0,56,134,80"/>
<area href="classMockDatabase.html" title="Mock version of DatabaseManager for testing repository logic." alt="MockDatabase" shape="rect" coords="144,56,278,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors and Destructors</div></td></tr>
<tr class="memitem:a23cb795bfa507d6eec9f322c6223d4b2" id="r_a23cb795bfa507d6eec9f322c6223d4b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a23cb795bfa507d6eec9f322c6223d4b2">DatabaseManager</a> (const string &amp;name=&quot;zoo.db&quot;)</td></tr>
<tr class="memdesc:a23cb795bfa507d6eec9f322c6223d4b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classDatabaseManager.html" title="Handles low-level database operations for the Zoo Management System.">DatabaseManager</a> for the specified database file.  <br /></td></tr>
<tr class="separator:a23cb795bfa507d6eec9f322c6223d4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b3a5da1e04fbb00faf8a034da1d063" id="r_ae9b3a5da1e04fbb00faf8a034da1d063"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#ae9b3a5da1e04fbb00faf8a034da1d063">~DatabaseManager</a> ()</td></tr>
<tr class="memdesc:ae9b3a5da1e04fbb00faf8a034da1d063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor — automatically closes the database if still open.  <br /></td></tr>
<tr class="separator:ae9b3a5da1e04fbb00faf8a034da1d063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Connection Management</div></td></tr>
<tr class="memitem:a27b50fd0c2a0ad7d0e93561da08a6949" id="r_a27b50fd0c2a0ad7d0e93561da08a6949"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a27b50fd0c2a0ad7d0e93561da08a6949">open</a> ()</td></tr>
<tr class="memdesc:a27b50fd0c2a0ad7d0e93561da08a6949"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a connection to the database.  <br /></td></tr>
<tr class="separator:a27b50fd0c2a0ad7d0e93561da08a6949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c8ab027e11aba2464f384b18e814e5" id="r_a36c8ab027e11aba2464f384b18e814e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a36c8ab027e11aba2464f384b18e814e5">close</a> ()</td></tr>
<tr class="memdesc:a36c8ab027e11aba2464f384b18e814e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the current database connection.  <br /></td></tr>
<tr class="separator:a36c8ab027e11aba2464f384b18e814e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">SQL Execution and Query Preparation</div></td></tr>
<tr class="memitem:a0c7dba639367659ae4dfa72fe9b10944" id="r_a0c7dba639367659ae4dfa72fe9b10944"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a0c7dba639367659ae4dfa72fe9b10944">execute</a> (const string &amp;sql)</td></tr>
<tr class="memdesc:a0c7dba639367659ae4dfa72fe9b10944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a single SQL command.  <br /></td></tr>
<tr class="separator:a0c7dba639367659ae4dfa72fe9b10944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f72ead85c4c3799070eb719f6677fe7" id="r_a8f72ead85c4c3799070eb719f6677fe7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a8f72ead85c4c3799070eb719f6677fe7">prepare</a> (const string &amp;sql, sqlite3_stmt **stmt)</td></tr>
<tr class="memdesc:a8f72ead85c4c3799070eb719f6677fe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares an SQL statement for execution.  <br /></td></tr>
<tr class="separator:a8f72ead85c4c3799070eb719f6677fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Accessors</div></td></tr>
<tr class="memitem:a58e911c589dd8974ca7d2c84d20644d7" id="r_a58e911c589dd8974ca7d2c84d20644d7"><td class="memItemLeft" align="right" valign="top">sqlite3 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a58e911c589dd8974ca7d2c84d20644d7">getDB</a> () const</td></tr>
<tr class="memdesc:a58e911c589dd8974ca7d2c84d20644d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the underlying SQLite database handle.  <br /></td></tr>
<tr class="separator:a58e911c589dd8974ca7d2c84d20644d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5341532377ae75614a5e9ccf81e18355" id="r_a5341532377ae75614a5e9ccf81e18355"><td class="memItemLeft" align="right" valign="top">sqlite3 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a></td></tr>
<tr class="memdesc:a5341532377ae75614a5e9ccf81e18355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the underlying SQLite database connection.  <br /></td></tr>
<tr class="separator:a5341532377ae75614a5e9ccf81e18355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a523db42962480a0dd876537884302b53" id="r_a523db42962480a0dd876537884302b53"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">dbName</a></td></tr>
<tr class="memdesc:a523db42962480a0dd876537884302b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name (or path) of the SQLite database file.  <br /></td></tr>
<tr class="separator:a523db42962480a0dd876537884302b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles low-level database operations for the Zoo Management System. </p>
<p>The <a class="el" href="classDatabaseManager.html" title="Handles low-level database operations for the Zoo Management System.">DatabaseManager</a> encapsulates the logic for interacting with the SQLite engine. It is responsible for connection lifecycle management and executing SQL commands. All repository classes depend on it for consistent access to the same database instance.</p>
<dl class="section note"><dt>Note</dt><dd>This class is a thin wrapper around the SQLite C API (<code>sqlite3.h</code>). </dd></dl>
<dl class="section see"><dt>See also</dt><dd>sqlite3, <a class="el" href="classAccountRepository.html" title="Provides persistent storage and retrieval operations for Account objects.">AccountRepository</a>, <a class="el" href="classAnimalRepository.html" title="Provides database operations for Animal entities.">AnimalRepository</a>, <a class="el" href="classAviaryRepository.html" title="Provides persistent storage and retrieval operations for Aviary entities.">AviaryRepository</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2AccountRepository_8h-example.html#_a0">/home/runner/work/unit-tests/unit-tests/DatabaseManager/AccountRepository.h</a>, <a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2AnimalRepository_8h-example.html#_a0">/home/runner/work/unit-tests/unit-tests/DatabaseManager/AnimalRepository.h</a>, <a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2AviaryRepository_8h-example.html#_a0">/home/runner/work/unit-tests/unit-tests/DatabaseManager/AviaryRepository.h</a>, <a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#_a0">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>, <a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2EmployeeRepository_8h-example.html#_a0">/home/runner/work/unit-tests/unit-tests/DatabaseManager/EmployeeRepository.h</a>, <a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2PathRepository_8h-example.html#_a0">/home/runner/work/unit-tests/unit-tests/DatabaseManager/PathRepository.h</a>, and <a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2Lab1_8cpp-example.html#_a1">/home/runner/work/unit-tests/unit-tests/Lab1.cpp</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8h_source.html#l00047">47</a> of file <a class="el" href="DatabaseManager_8h_source.html">DatabaseManager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a23cb795bfa507d6eec9f322c6223d4b2" name="a23cb795bfa507d6eec9f322c6223d4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23cb795bfa507d6eec9f322c6223d4b2">&#9670;&#160;</a></span>DatabaseManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseManager::DatabaseManager </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;zoo.db&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classDatabaseManager.html" title="Handles low-level database operations for the Zoo Management System.">DatabaseManager</a> for the specified database file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name or path of the SQLite database file (default: "zoo.db").</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes the database manager with the given file path but does not open the connection automatically — call <code><a class="el" href="classDatabaseManager.html#a27b50fd0c2a0ad7d0e93561da08a6949" title="Opens a connection to the database.">open()</a></code> to establish it. </p>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8cpp_source.html#l00013">13</a> of file <a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>                                                   : <a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>(<span class="keyword">nullptr</span>), <a class="code hl_variable" href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">dbName</a>(name) {</div>
<div class="line"><span class="lineno">   14</span>        <span class="keywordflow">if</span> (sqlite3_open(<a class="code hl_variable" href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">dbName</a>.c_str(), &amp;<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>) != SQLITE_OK) {</div>
<div class="line"><span class="lineno">   15</span>            <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#a2ded8ffaf509c649f67cd877454b71cd">error</a>(<span class="stringliteral">&quot;Failed to open DB: &quot;</span> + <a class="code hl_variable" href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">dbName</a>);</div>
<div class="line"><span class="lineno">   16</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   17</span>            <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#ad421f4ebb3efefb0730e7e3a63e14158">debug</a>(<span class="stringliteral">&quot;Database opened successfully: &quot;</span> + <a class="code hl_variable" href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">dbName</a>);</div>
<div class="line"><span class="lineno">   18</span>        }</div>
<div class="line"><span class="lineno">   19</span>}</div>
<div class="ttc" id="aLoggerGlobal_8cpp_html_ad0027a20a089fb8f8dbb5a0468c20470"><div class="ttname"><a href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a></div><div class="ttdeci">Logger logger(&quot;zoo_log.txt&quot;)</div></div>
<div class="ttc" id="aclassDatabaseManager_html_a523db42962480a0dd876537884302b53"><div class="ttname"><a href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">DatabaseManager::dbName</a></div><div class="ttdeci">string dbName</div><div class="ttdoc">Name (or path) of the SQLite database file.</div><div class="ttdef"><b>Definition</b> <a href="DatabaseManager_8h_source.html#l00051">DatabaseManager.h:51</a></div></div>
<div class="ttc" id="aclassDatabaseManager_html_a5341532377ae75614a5e9ccf81e18355"><div class="ttname"><a href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">DatabaseManager::db</a></div><div class="ttdeci">sqlite3 * db</div><div class="ttdoc">Pointer to the underlying SQLite database connection.</div><div class="ttdef"><b>Definition</b> <a href="DatabaseManager_8h_source.html#l00050">DatabaseManager.h:50</a></div></div>
<div class="ttc" id="aclassLogger_html_a2ded8ffaf509c649f67cd877454b71cd"><div class="ttname"><a href="classLogger.html#a2ded8ffaf509c649f67cd877454b71cd">Logger::error</a></div><div class="ttdeci">void error(const string &amp;msg)</div><div class="ttdoc">Logs an error message.</div><div class="ttdef"><b>Definition</b> <a href="Logger_8cpp_source.html#l00111">Logger.cpp:111</a></div></div>
<div class="ttc" id="aclassLogger_html_ad421f4ebb3efefb0730e7e3a63e14158"><div class="ttname"><a href="classLogger.html#ad421f4ebb3efefb0730e7e3a63e14158">Logger::debug</a></div><div class="ttdeci">void debug(const string &amp;msg)</div><div class="ttdoc">Logs a debug-level message.</div><div class="ttdef"><b>Definition</b> <a href="Logger_8cpp_source.html#l00108">Logger.cpp:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9b3a5da1e04fbb00faf8a034da1d063" name="ae9b3a5da1e04fbb00faf8a034da1d063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b3a5da1e04fbb00faf8a034da1d063">&#9670;&#160;</a></span>~DatabaseManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseManager::~DatabaseManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor — automatically closes the database if still open. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a3">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8cpp_source.html#l00090">90</a> of file <a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>                                  {</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_function" href="classDatabaseManager.html#a36c8ab027e11aba2464f384b18e814e5">close</a>();</div>
<div class="line"><span class="lineno">   92</span>}</div>
<div class="ttc" id="aclassDatabaseManager_html_a36c8ab027e11aba2464f384b18e814e5"><div class="ttname"><a href="classDatabaseManager.html#a36c8ab027e11aba2464f384b18e814e5">DatabaseManager::close</a></div><div class="ttdeci">void close()</div><div class="ttdoc">Closes the current database connection.</div><div class="ttdef"><b>Definition</b> <a href="DatabaseManager_8cpp_source.html#l00038">DatabaseManager.cpp:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a36c8ab027e11aba2464f384b18e814e5" name="a36c8ab027e11aba2464f384b18e814e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36c8ab027e11aba2464f384b18e814e5">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DatabaseManager::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the current database connection. </p>
<p>Safely terminates the SQLite session and releases internal resources. It is safe to call this method multiple times. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a5">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8cpp_source.html#l00038">38</a> of file <a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>                            {</div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>) sqlite3_close(<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>);</div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   41</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c7dba639367659ae4dfa72fe9b10944" name="a0c7dba639367659ae4dfa72fe9b10944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c7dba639367659ae4dfa72fe9b10944">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DatabaseManager::execute </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a single SQL command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sql</td><td>SQL statement to execute (e.g., CREATE, INSERT, UPDATE). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the statement executed successfully, false otherwise.</dd></dl>
<p>This method is intended for non-parameterized queries such as table creation or record modification. For prepared statements, use <code><a class="el" href="classDatabaseManager.html#a8f72ead85c4c3799070eb719f6677fe7" title="Prepares an SQL statement for execution.">prepare()</a></code>. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a6">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8cpp_source.html#l00042">42</a> of file <a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>                                               {</div>
<div class="line"><span class="lineno">   43</span>    <span class="keywordtype">char</span>* errMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordtype">int</span> rc = sqlite3_exec(<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>, sql.c_str(), <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;errMsg);</div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">if</span> (rc != SQLITE_OK) {</div>
<div class="line"><span class="lineno">   46</span>        <span class="keywordtype">string</span> emsg;</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">if</span> (errMsg) {</div>
<div class="line"><span class="lineno">   48</span>            emsg = errMsg;</div>
<div class="line"><span class="lineno">   49</span>            sqlite3_free(errMsg);</div>
<div class="line"><span class="lineno">   50</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   51</span>            emsg = sqlite3_errstr(rc); <span class="comment">// додатковий текст помилки (якщо доступний)</span></div>
<div class="line"><span class="lineno">   52</span>        }</div>
<div class="line"><span class="lineno">   53</span>        <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#a2ded8ffaf509c649f67cd877454b71cd">error</a>(<span class="stringliteral">&quot;SQL error (rc=&quot;</span> + to_string(rc) + <span class="stringliteral">&quot;): &quot;</span> + emsg);</div>
<div class="line"><span class="lineno">   54</span>        <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#ad421f4ebb3efefb0730e7e3a63e14158">debug</a>(<span class="stringliteral">&quot;Failed SQL: &quot;</span> + sql);</div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   56</span>    }</div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#ad421f4ebb3efefb0730e7e3a63e14158">debug</a>(<span class="stringliteral">&quot;SQL executed OK: &quot;</span> + sql);</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   59</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a58e911c589dd8974ca7d2c84d20644d7" name="a58e911c589dd8974ca7d2c84d20644d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e911c589dd8974ca7d2c84d20644d7">&#9670;&#160;</a></span>getDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sqlite3 * DatabaseManager::getDB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the underlying SQLite database handle. </p>
<dl class="section return"><dt>Returns</dt><dd>Raw pointer to the active SQLite database connection.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Use this only if you need direct access to SQLite C API functions. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a8">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8cpp_source.html#l00087">87</a> of file <a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a27b50fd0c2a0ad7d0e93561da08a6949" name="a27b50fd0c2a0ad7d0e93561da08a6949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27b50fd0c2a0ad7d0e93561da08a6949">&#9670;&#160;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DatabaseManager::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a connection to the database. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the database was successfully opened, false otherwise.</dd></dl>
<p>This method must be called before executing or preparing any statements. If the file does not exist, it will be created automatically by SQLite. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a4">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8cpp_source.html#l00021">21</a> of file <a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   21</span>                           {</div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordtype">int</span> rc = sqlite3_open(<a class="code hl_variable" href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">dbName</a>.c_str(), &amp;<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>);</div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">if</span> (rc != SQLITE_OK) {</div>
<div class="line"><span class="lineno">   24</span>        <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#a2ded8ffaf509c649f67cd877454b71cd">error</a>(<span class="stringliteral">&quot;Failed to open database: &quot;</span> + <span class="keywordtype">string</span>(sqlite3_errmsg(<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>)));</div>
<div class="line"><span class="lineno">   25</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   26</span>        <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#ad421f4ebb3efefb0730e7e3a63e14158">debug</a>(<span class="stringliteral">&quot;Database opened successfully: &quot;</span> + <span class="keywordtype">string</span>(<a class="code hl_variable" href="classDatabaseManager.html#a523db42962480a0dd876537884302b53">dbName</a>.c_str()));</div>
<div class="line"><span class="lineno">   27</span>    }</div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordflow">if</span> (rc) {</div>
<div class="line"><span class="lineno">   29</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Failed to open database: &quot;</span> &lt;&lt; sqlite3_errmsg(<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>) &lt;&lt; endl;</div>
<div class="line"><span class="lineno">   30</span>        <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#a2ded8ffaf509c649f67cd877454b71cd">error</a>(<span class="stringliteral">&quot;Failed to open database: &quot;</span> + <span class="keywordtype">string</span>(sqlite3_errmsg(<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>)));</div>
<div class="line"><span class="lineno">   31</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   32</span>    }</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f72ead85c4c3799070eb719f6677fe7" name="a8f72ead85c4c3799070eb719f6677fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f72ead85c4c3799070eb719f6677fe7">&#9670;&#160;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DatabaseManager::prepare </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sqlite3_stmt **&#160;</td>
          <td class="paramname"><em>stmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares an SQL statement for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sql</td><td>SQL query string to compile. </td></tr>
    <tr><td class="paramname">stmt</td><td>Pointer to an SQLite statement object (output parameter). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the statement was successfully prepared, false otherwise.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The caller is responsible for finalizing the prepared statement with <code>sqlite3_finalize()</code> after use. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a7">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8cpp_source.html#l00076">76</a> of file <a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   76</span>                                                                    {</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordtype">int</span> rc = sqlite3_prepare_v2(<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>, sql.c_str(), -1, stmt, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">if</span> (rc != SQLITE_OK) {</div>
<div class="line"><span class="lineno">   79</span>        <a class="code hl_variable" href="LoggerGlobal_8cpp.html#ad0027a20a089fb8f8dbb5a0468c20470">logger</a>.<a class="code hl_function" href="classLogger.html#a2ded8ffaf509c649f67cd877454b71cd">error</a>(<span class="stringliteral">&quot;SQL prepare failed: &quot;</span> + <span class="keywordtype">string</span>(sqlite3_errmsg(<a class="code hl_variable" href="classDatabaseManager.html#a5341532377ae75614a5e9ccf81e18355">db</a>)));</div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   81</span>    }</div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   83</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5341532377ae75614a5e9ccf81e18355" name="a5341532377ae75614a5e9ccf81e18355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5341532377ae75614a5e9ccf81e18355">&#9670;&#160;</a></span>db</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sqlite3* DatabaseManager::db</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the underlying SQLite database connection. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a1">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8h_source.html#l00050">50</a> of file <a class="el" href="DatabaseManager_8h_source.html">DatabaseManager.h</a>.</p>

</div>
</div>
<a id="a523db42962480a0dd876537884302b53" name="a523db42962480a0dd876537884302b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a523db42962480a0dd876537884302b53">&#9670;&#160;</a></span>dbName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string DatabaseManager::dbName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name (or path) of the SQLite database file. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2home_2runner_2work_2unit-tests_2unit-tests_2DatabaseManager_2DatabaseManager_8h-example.html#a2">/home/runner/work/unit-tests/unit-tests/DatabaseManager/DatabaseManager.h</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DatabaseManager_8h_source.html#l00051">51</a> of file <a class="el" href="DatabaseManager_8h_source.html">DatabaseManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DatabaseManager_8h_source.html">DatabaseManager.h</a></li>
<li><a class="el" href="DatabaseManager_8cpp_source.html">DatabaseManager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDatabaseManager.html">DatabaseManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
